{% extends "network/layout.html" %}
{% load static %}

{% block body %}
    <script>
    </script>
    <center><h1 style="color: blue; font-size: 400%; padding: 10px">{{ username }}</h1></center>
    <ul class = "following-bar">
        <li>
            <h3>Following : {{ following }}</h3>
        </li>
        <li>
            <h3>Followers : {{ followers }}</h3>
        </li>
        <li>
            {% if user.is_authenticated %}
                {% if show_follow %}
                    {% if is_following %}
                    <form action="{% url "userpage" user_id %}" method="post" >{% csrf_token %}
                        <input type="hidden" name="frequest" value="unfollow">
                        <button type="submit" class="btn btn-danger">unfollow</button>
                    </form>
                    {% else %}
                    <form action="{% url "userpage" user_id %}" method="post" >{% csrf_token %}
                        <input type="hidden" name="frequest" value="follow">
                        <button type="submit" class="btn btn-primary">Follow</button>
                    </form>
                    {% endif %}
                {% endif %}
            {% endif %}
        </li>
    </ul>
    <div style="clear: both;"></div>
    {% if posts %}
    {% for post in page %}
        <div class="post">
            <h2>{{ post.user.username }}</h2>
            <h3>{{ post.content }}</h3>
            <h3>❤️ {{ post.likes }}</h3>
            <h5>{{ post.creation_date }}</h5>
        </div>
    {% endfor %}
        {% else %}
            <center><h1 style="color: red; font-weight: Bolder; font-size: 900%;padding: 70px 0;">No posts :(</h1></center>
    {% endif %}
    <hr><br><br>
    <div class="pagination">
     <center>{% if page.has_previous %}
        <a href="?page=1">&laquo First</a>
        <a href="?page={{ page.previous_page_number}}">Previous</a>
     {% endif %}
     Page {{ page.number }} of {{page.paginator.num_pages}}
     {% if page.has_next %}
     <a href="?page={{ page.next_page_number }}">Next</a>
        <a href="?page={{ page.paginator.num_pages }}">Last &raquo</a>
     {% endif %}</center>
     <br></div>
{% endblock body %}